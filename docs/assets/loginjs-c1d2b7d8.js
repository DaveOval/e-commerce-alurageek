const v=document.querySelector("#btn_login"),r=document.querySelector("#name"),s=document.querySelector("#username"),t=document.querySelector("#email"),l=document.querySelector("#password"),n=document.querySelector("#error1"),d=document.querySelector("#error2"),c=document.querySelector("#error3"),u=document.querySelector("#error4");r.addEventListener("blur",()=>{L(r)});s.addEventListener("blur",()=>{b(s)});t.addEventListener("blur",()=>{f(t)});l.addEventListener("blur",()=>{S(l)});v.addEventListener("click",e=>{e.preventDefault(),w(r.value,s.value,t.value,l.value)});function L(e){/^[a-zA-Z ]{2,50}$/.test(e.value)?(i(),e.classList.remove("warging"),n.classList.add("disabled")):(e.classList.add("warging"),n.classList.remove("disabled"))}function b(e){/^[a-zA-Z ]{2,50}$/.test(e.value)?(i(),e.classList.remove("warging"),d.classList.add("disabled")):(e.classList.add("warging"),d.classList.remove("disabled"))}function f(e){/^([a-zA-Z0-9_\-\.!#$%&]+)@([a-zA-Z0-9_\-\.!#$%&]+)\.([a-zA-Z]{2,5})$/.test(e.value)?(i(),e.classList.remove("warging"),c.classList.add("disabled")):(e.classList.add("warging"),c.classList.remove("disabled"))}function S(e){/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(e.value)?(i(),e.classList.remove("warging"),u.classList.add("disabled")):(e.classList.add("warging"),u.classList.remove("disabled"))}function i(){r.value!==""&&s.value!==""&&t.value!==""&&l.value!==""&&v.classList.remove("disabled")}function w(e,a,m,g){const o={name:e,nickName:a,email:m,password:g};if(localStorage.getItem(o.email)){alert("Usuario ya existe");return}else localStorage.setItem("user",JSON.stringify(o));alert("Nuevo usuario registrado con exito: "+e),window.location.href="index.html"}
